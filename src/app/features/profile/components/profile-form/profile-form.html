<form [formGroup]="form" (ngSubmit)="onSubmit()">
	<div class="mb-4">
		<label for="prenom" class="block text-sm font-medium text-gray-700 mb-2">Prenom</label>
		<input
			type="text"
			id="prenom"
			formControlName="prenom"
			class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
			placeholder="Votre prenom"
		/>
		@if (hasError('prenom', 'required')) {
			<div class="mt-1 text-sm text-red-600">Le prenom est requis</div>
		}
		@if (hasError('prenom', 'minlength')) {
			<div class="mt-1 text-sm text-red-600">Minimum 2 caracteres</div>
		}
	</div>

	<div class="mb-4">
		<label for="nom" class="block text-sm font-medium text-gray-700 mb-2">Nom</label>
		<input
			type="text"
			id="nom"
			formControlName="nom"
			class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
			placeholder="Votre nom"
		/>
		@if (hasError('nom', 'required')) {
			<div class="mt-1 text-sm text-red-600">Le nom est requis</div>
		}
		@if (hasError('nom', 'minlength')) {
			<div class="mt-1 text-sm text-red-600">Minimum 2 caracteres</div>
		}
	</div>

	<div class="mb-4">
		<label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
		<input
			type="email"
			id="email"
			formControlName="email"
			class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
			placeholder="votre@email.com"
		/>
		@if (hasError('email', 'required')) {
			<div class="mt-1 text-sm text-red-600">L'email est requis</div>
		}
		@if (hasError('email', 'email')) {
			<div class="mt-1 text-sm text-red-600">L'email n'est pas valide</div>
		}
	</div>

	<div class="mb-4">
		<label for="password" class="block text-sm font-medium text-gray-700 mb-2">Nouveau mot de passe</label>
		<input
			type="password"
			id="password"
			formControlName="password"
			class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
			placeholder="Laissez vide pour ne pas changer"
		/>
		@if (hasError('password', 'minlength')) {
			<div class="mt-1 text-sm text-red-600">Minimum 6 caracteres</div>
		}
	</div>

	<div class="mb-6">
		<label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-2">Confirmer le mot de passe</label>
		<input
			type="password"
			id="confirmPassword"
			formControlName="confirmPassword"
			class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
			placeholder="Confirmez le nouveau mot de passe"
		/>
		@if (hasPasswordMismatch()) {
			<div class="mt-1 text-sm text-red-600">Les mots de passe ne correspondent pas</div>
		}
	</div>

	<div class="flex flex-wrap gap-3">
		<button
			type="submit"
			[disabled]="isLoading"
			class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
		>
			@if (!isLoading) {
				<span>Enregistrer</span>
			} @else {
				<span>Enregistrement...</span>
			}
		</button>

		<button
			type="button"
			class="inline-flex items-center px-4 py-2 border border-red-600 text-red-600 rounded-md hover:bg-red-50 transition-colors"
			(click)="onDelete()"
		>
			Supprimer le compte
		</button>
	</div>
</form>
